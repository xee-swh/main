#JVM

## 说一下JVM的主要组成部分？及其作用？
	JVM由三部分构成：
		1：类加载子系统   作用：负责加载类信息到JVM中
		2：运行时数据区   作用：存放运行时的各种数据
		3：字节码执行引擎 作用：执行字节码文件

## 说一下 JVM 运行时数据区？
	运行时数据区构成：
	线程私有：
		1：程序计数器
		2：java虚拟机栈
		3：本地方法栈
	共享区域
		4：java堆
		5：方法区

## 说一下java堆栈的区别？
   堆：线程共享，用来存放应用系统创建的对象和数组。  
   GC主要管理堆空间，对分代GC来说，堆也是分代的。  
   堆的优点：运行期动态分配内存大小，自动进行垃圾回收。  
   堆的缺点：效率相对较慢。  
   
   栈：线程私有，用于存放本地变量，应用类型的指针等，  
   每一个栈都有一个栈帧组成，包含了局部变量，本地操作数栈，动态链接，方法出口  

## 什么是双亲委派模型？
   指jvm在加载对象的时候，都交给其父类加载器加载，只有父类加载器加载不到时，才交给子类加载器加载
   是一种从上往下的加载过程，如果都加载不了，则抛出异常。

   优点：
   	1、提高了加载性能，避免重复加载；
   	2、增强了安全性；
   	3、统一管理

## 说一下类装载的执行过程？

	加载: 将java字节码文件加载到机器内存中

	链接 验证: 验证class文件合法
	     准备: 为静态变量分配空间
	     解析: 将符合引用替换为直接引用的过程

    初始化:对类进行初始化操作

## 说一下 JVM 有哪些垃圾回收算法？

	eden 复制算法
	老年代：标记清除、标记整理算法

## 说一下 JVM 有哪些垃圾回收器？

	Serial收集器 - Serial收集器是一种单线程垃圾回收器，它会暂停应用程序，清理整个堆内存，然后再恢复应用程序。它适用于小型应用程序和移动设备，并且可以通过JVM参数进行开启。
    
    Parallel收集器 - Parallel收集器是一种多线程垃圾回收器，它可以并行地清理整个堆内存。它适用于多核CPU的应用程序，并且可以通过JVM参数进行开启。

    CMS收集器 - CMS（Concurrent Mark Sweep）收集器是一种并发垃圾回收器，它可以在不暂停应用程序的情况下清理内存。它适用于大型应用程序和需要短暂暂停的应用程序，并且可以通过JVM参数进行开启。

    G1收集器 - G1（Garbage First）收集器是一种基于区域的垃圾回收器，它将堆内存分为多个区域，并进行独立的垃圾回收。它适用于大型应用程序和需要更可预测的暂停时间的应用程序，并且可以通过JVM参数进行开启。

## 新生代垃圾回收器和老生代垃圾回收器都有哪些？有什么区别？
    
    新生代回收器：Serial、ParNew、Parallel Scavenge
    
    老年代回收器：Serial Old、Parallel Old、CMS
    
    整堆回收器：G1
    
    新生代垃圾回收器一般采用的是复制算法，复制算法的优点是效率高，缺点是内存利用率低；
    老年代回收器一般采用的是标记-整理的算法进行垃圾回收。

## 简述分代垃圾回收器是怎么工作的？
	
	分代回收器有两个分区：老生代和新生代，新生代默认的空间占比总空间的 1/3，老生代的默认占比是 2/3。
	
	新生代使用的是复制算法，新生代里有 3 个分区：Eden、To Survivor、From Survivor，它们的默认占比是 8:1:1，它的执行流程如下：
	把 Eden + From Survivor 存活的对象放入 To Survivor 区；清空 Eden 和 From Survivor 分区；
	From Survivor 和 To Survivor 分区交换，From Survivor 变 To Survivor，To Survivor 变 From Survivor。
	每次在 From Survivor 到 To Survivor移动时都存活的对象，年龄就+1，当年龄到达15（默认配置是15）时，升级为老生代。
	大对象也会直接进入老生代。老生代当空间占用到达某个值之后就会触发全局垃圾收回，一般使用标记整理的执行算法。
	以上这些循环往复就构成了整个分代垃圾回收的整体执行流程。

## 说一下 JVM 调优的工具？

	jvisualvm：JDK 自带的全能分析工具，可以分析：内存快照、线程快照、程序死锁、监控内存的变化、gc 变化等。

	Arthas：Arthas是Alibaba开源的Java诊断工具，动态跟踪Java代码；实时监控JVM状态，可以在不中断程序执行的情况下轻松完成JVM相关问题排查工作 。支持JDK 6+，支持Linux/Mac/Windows。


## 常用的 JVM 调优的参数都有哪些？

	-Xms
	-Xmn
	-Xmm
	-Xss



